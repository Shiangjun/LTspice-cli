Version 4
SHEET 1 2680 1152
WIRE -704 -96 -768 -96
WIRE -592 -96 -624 -96
WIRE -480 -96 -528 -96
WIRE -768 -48 -768 -96
WIRE -768 -48 -848 -48
WIRE -480 -48 -480 -96
WIRE -400 -48 -480 -48
WIRE -848 -16 -848 -48
WIRE -768 0 -768 -48
WIRE -704 0 -768 0
WIRE -592 0 -624 0
WIRE -480 0 -480 -48
WIRE -480 0 -528 0
WIRE 32 0 -80 0
WIRE 192 0 112 0
WIRE 400 0 192 0
WIRE 640 0 480 0
WIRE 752 0 640 0
WIRE 640 32 640 0
WIRE 192 48 192 0
WIRE 256 48 192 48
WIRE -848 96 -848 64
WIRE -576 96 -848 96
WIRE 752 96 752 0
WIRE 640 112 640 96
WIRE 256 160 192 160
WIRE -80 176 -80 0
WIRE 336 208 192 208
WIRE 512 224 400 224
WIRE 640 224 640 192
WIRE 640 224 512 224
WIRE 752 224 752 160
WIRE 752 224 640 224
WIRE 816 224 752 224
WIRE 960 224 896 224
WIRE -704 240 -768 240
WIRE -592 240 -624 240
WIRE -480 240 -528 240
WIRE 640 256 640 224
WIRE -768 288 -768 240
WIRE -768 288 -848 288
WIRE -480 288 -480 240
WIRE -416 288 -480 288
WIRE 960 288 960 224
WIRE 752 304 752 224
WIRE -848 320 -848 288
WIRE -768 336 -768 288
WIRE -704 336 -768 336
WIRE -592 336 -624 336
WIRE -480 336 -480 288
WIRE -480 336 -528 336
WIRE 256 336 192 336
WIRE 640 336 640 320
WIRE 336 384 192 384
WIRE 256 400 192 400
WIRE -848 432 -848 400
WIRE -576 432 -848 432
WIRE -80 448 -80 256
WIRE 192 448 192 400
WIRE 192 448 -80 448
WIRE 640 448 640 416
WIRE 640 448 192 448
WIRE 752 448 752 368
WIRE 752 448 640 448
WIRE 960 448 960 368
WIRE 960 448 752 448
WIRE -80 480 -80 448
FLAG -80 480 0
FLAG 192 160 Vg_upper_pos
IOPIN 192 160 In
FLAG 192 208 Vg_upper_neg
IOPIN 192 208 In
FLAG 192 336 Vg_lower_pos
IOPIN 192 336 In
FLAG 192 384 Vg_lower_neg
IOPIN 192 384 In
FLAG -400 -48 Vg_upper_pos
IOPIN -400 -48 Out
FLAG -576 96 Vg_upper_neg
IOPIN -576 96 Out
FLAG -416 288 Vg_lower_pos
IOPIN -416 288 Out
FLAG -576 432 Vg_lower_neg
IOPIN -576 432 Out
FLAG 512 224 N_out
FLAG 192 0 N_upper
FLAG 192 448 N_lower
SYMBOL voltage -80 160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -54 16 Left 2
WINDOW 3 -61 95 Left 2
SYMATTR InstName V1
SYMATTR Value 600
SYMBOL rohm_model 384 224 R0
SYMATTR InstName U2
SYMBOL voltage -848 -32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 4 166 Left 2
SYMATTR Value PULSE(-5 18 {Td} 10n 10n {Ton_upper} {T} 100)
SYMATTR InstName V2
SYMBOL voltage -848 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -2 162 Left 2
SYMATTR Value PULSE(-5 18 {2*Td+Ton_upper} 10n 10n {Ton_lower} {T} 100)
SYMATTR InstName V3
SYMBOL current 960 288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value {I_out}
SYMBOL res 800 240 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 10m
SYMBOL ind 16 16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L_stray}
SYMATTR SpiceLine Rser=0
SYMBOL cap 736 96 R0
SYMATTR InstName C1
SYMATTR Value {C_s2}
SYMBOL cap 736 304 R0
SYMATTR InstName C2
SYMATTR Value {C_s2}
SYMBOL cap 624 32 R0
SYMATTR InstName C3
SYMATTR Value {C_s1}
SYMBOL cap 624 256 R0
SYMATTR InstName C4
SYMATTR Value {C_s1}
SYMBOL res 624 96 R0
SYMATTR InstName R2
SYMATTR Value {R_s}
SYMBOL res 624 320 R0
SYMATTR InstName R3
SYMATTR Value {R_s}
SYMBOL res -720 16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value {R_gOn}
SYMBOL res -720 352 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value {R_gOn}
SYMBOL ind 384 16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 7 114 VBottom 2
SYMATTR InstName L2
SYMATTR Value {L_stray_snubber}
SYMBOL res -720 -80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value {R_gOff}
SYMBOL res -720 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value {R_gOff}
SYMBOL diode -592 16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL diode -528 -112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMBOL diode -528 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMBOL diode -592 352 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
TEXT 1088 264 Left 2 !.lib rohm_model.lib
TEXT 1088 -32 Left 2 !.tran 0 0.16m 0 1n startup uic
TEXT 1088 296 Left 2 !.temp 25
TEXT 1088 56 Left 2 !.param R_s=5.7 C_s1=7.5n
TEXT 1088 88 Left 2 !.param C_s2=0
TEXT -848 520 Left 2 !.param Td=100n Ton_upper=20u Ton_lower=40u
TEXT -848 552 Left 2 !.param T={2*Td+Ton_upper+Ton_lower}
TEXT 1088 24 Left 2 !.param L_stray=50n
TEXT 1088 120 Left 2 !.param R_gOn=2 R_gOff=3.9
TEXT 1088 152 Left 2 !.param I_out=43
TEXT 1088 184 Left 2 !.param L_stray_snubber=20n
